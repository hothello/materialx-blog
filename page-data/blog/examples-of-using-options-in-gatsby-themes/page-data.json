{"componentChunkName":"component---node-modules-gatsby-theme-catalyst-blog-src-templates-post-query-js","path":"/blog/examples-of-using-options-in-gatsby-themes/","result":{"data":{"catalystPost":{"__typename":"MdxCatalystPost","id":"98cb68b6-66a3-51b0-b691-a7091d97e500","excerpt":"The ability to define options for Gatsby themes unlocks a powerful set of development opportunities. You may have already used an option like  contentPath  before but there is so much more you can do! Before you go any further, you need to pause and read  Chris Biscardi's excellent post  aboutâ€¦","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Examples of using options in Gatsby themes\",\n  \"author\": \"Eric Howey\",\n  \"authorLink\": \"https://twitter.com/erchwy\",\n  \"tags\": [\"Gatsby\", \"Catalyst\", \"Themes\"],\n  \"date\": \"2020-02-01T00:00:00.000Z\",\n  \"featuredImage\": \"../post-assets/featured-theme-options.jpg\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The ability to define options for Gatsby themes unlocks a powerful set of development opportunities. You may have already used an option like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"contentPath\"), \" before but there is so much more you can do!\"), mdx(\"p\", null, \"Before you go any further, you need to pause and read \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.christopherbiscardi.com/post/applying-theme-options-using-custom-configuration-nodes/\"\n  }), \"Chris Biscardi\\u2019s excellent post\"), \" about setting up a custom GraphQL node for theme options which can then be queried in components. I won\\u2019t repeat what he has already said so well!\"), mdx(\"h2\", {\n    \"id\": \"setup-a-hook-for-your-theme-options\"\n  }, \"Setup a hook for your theme options\"), mdx(\"p\", null, \"Once you have your GraphQL node setup following Chris\\u2019s instructions next you will want to build a utility hook for the query. This keeps queries separate from presentational components and improves readability, something like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useThemeOptions\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import { useStaticQuery, graphql } from \\\"gatsby\\\"\\n\\nexport const useThemeOptions = () => {\\n  const { themeOptions } = useStaticQuery(\\n    graphql`\\n      query {\\n        themeOptions {\\n          contentPath\\n          assetPath\\n          displaySiteLogo\\n          displaySiteTitle\\n          useHero\\n          invertSiteLogo\\n          mobileMenuBreakpoint\\n          useColorMode\\n          footerContentLocation\\n        }\\n      }\\n    `\\n  )\\n  return themeOptions\\n}\\n\")), mdx(\"p\", null, \"Now when you want to access a theme option in a component it would be like this. Quicker and clearer to read.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import { useThemeOptions } from \\\"./util/use-theme-options\\\"\\n\\nconst { displaySiteTitle } = useThemeOptions()\\n\")), mdx(\"h2\", {\n    \"id\": \"using-theme-options-to-conditionally-render-a-component\"\n  }, \"Using theme options to conditionally render a component\"), mdx(\"p\", null, \"When building a theme, giving the user design flexibility without having to shadow the entire component is a value added feature. Not every website will want a logo and conversely some websites only want a logo. The theme options \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"displaySiteLogo\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"displaySiteTitle\"), \" are boolean values that could be used to toggle this.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import React from \\\"react\\\"\\nimport { useThemeOptions } from \\\"gatsby-theme-super-heroes\\\"\\nimport Logo from \\\"./branding-logo\\\"\\nimport Title from \\\"./branding-title\\\"\\n\\nconst SiteBranding = () => {\\n  const { displaySiteLogo, displaySiteTitle } = useThemeOptions()\\n  return (\\n    <div>\\n      {displaySiteLogo && <Logo />}\\n      {displaySiteTitle && <Title />}\\n    </div>\\n  )\\n}\\n\\nexport default SiteBranding\\n\")), mdx(\"h2\", {\n    \"id\": \"using-theme-options-to-conditionally-change-css-styles\"\n  }, \"Using theme options to conditionally change CSS styles\"), mdx(\"p\", null, \"Another area theme options prove useful is conditionally styling an element. For example an option like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"footerContentLocation\"), \", could allow for three values; \\u201Cleft\\u201D, \\u201Cright\\u201D and \\u201Ccenter\\u201D. Each value corresponds to the alignment of content in the footer. In some designs having the footer content centered makes the most sense, while in other designs you may want it on the left side.\"), mdx(\"p\", null, \"Here is an example of a footer component in action, note this uses the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://theme-ui.com/sx-prop\"\n  }), \"Theme-UI sx prop\"), \", which may look a bit unfamiliar if you haven\\u2019t seen this pattern before.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"/** @jsx jsx */\\nimport { jsx } from \\\"theme-ui\\\"\\nimport { useSiteMetadata, useThemeOptions } from \\\"gatsby-theme-super-heroes\\\"\\n\\nconst SiteFooter = () => {\\n  const { title } = useSiteMetadata()\\n  const { footerContentLocation } = useThemeOptions()\\n  const isLeft = footerContentLocation === \\\"left\\\"\\n  const isRight = footerContentLocation === \\\"right\\\"\\n  const isCenter = footerContentLocation === \\\"center\\\"\\n\\n  return (\\n    <footer\\n      sx={{\\n        display: \\\"grid\\\",\\n        alignContent: \\\"center\\\",\\n        justifyContent:\\n          (isLeft && \\\"start\\\") || (isRight && \\\"end\\\") || (isCenter && \\\"center\\\"),\\n        textAlign:\\n          (isLeft && \\\"left\\\") || (isRight && \\\"right\\\") || (isCenter && \\\"center\\\"),\\n      }}\\n    >\\n      <p>Some awesome footer content here!</p>\\n    </footer>\\n  )\\n}\\n\\nexport default SiteFooter\\n\")), mdx(\"h2\", {\n    \"id\": \"passing-information-to-gatsby-configjs\"\n  }, \"Passing information to gatsby-config.js\"), mdx(\"p\", null, \"The last example of using a theme option is passing information to gatsby-config.js. In this example \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"contentPath\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"assetPath\"), \" are passed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-source-filesystem\"), \". This requires gatsby-config.js to be modified from a straight export to a function, also requiring you to be using a theme and a starter together. The starter passes the information to the theme. It is a good idea to ensure that these folders exist in the starter otherwise you will get a build error, Gatsby explains how to do this in the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gatsbyjs.org/docs/themes/conventions/#initializing-required-directories\"\n  }), \"theme conventions doc\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// Note the change to a function instead of just module.exports = {}\\nmodule.exports = options => {\\n  return {\\n    siteMetadata: {\\n      title: `Placeholder title`,\\n      description: `Placeholder description`,\\n      author: `Placeholder author`,\\n    },\\n    plugins: [\\n      {\\n        resolve: `gatsby-source-filesystem`,\\n        options: {\\n          name: `pages`,\\n          path: options.contentPath || `content/pages`,\\n        },\\n      },\\n      {\\n        resolve: `gatsby-source-filesystem`,\\n        options: {\\n          name: `images`,\\n          path: options.assetPath || `content/assets`,\\n        },\\n      },\\n    ],\\n  }\\n}\\n\")), mdx(\"p\", null, \"Hopefully these examples inspire you to think about ways you can use theme options creatively in your next Gatsby theme! You can see more examples of how I used theme options throughout \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ehowey/gatsby-theme-catalyst\"\n  }), \"Gatsby Theme Catalyst\"), \". I would love to hear about your projects as I think it is still early days for Gatsby themes and additional patterns are sure to emerge.\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/blog/examples-of-using-options-in-gatsby-themes/","title":"Examples of using options in Gatsby themes","author":"Eric Howey","authorLink":"https://twitter.com/erchwy","tags":["Gatsby","Catalyst","Themes"],"keywords":[],"timeToRead":2,"date":"February 01, 2020","featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAHOmzZksAq//8QAGxAAAgMAAwAAAAAAAAAAAAAAAAIBAxIhIiP/2gAIAQEAAQUCysCnoSvVeSyzLf/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwFtf//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AUf/xAAbEAACAQUAAAAAAAAAAAAAAAAAEQECECEiMf/aAAgBAQAGPwLMGtKOkN2SP//EABsQAAICAwEAAAAAAAAAAAAAAAERACExUWGB/9oACAEBAAE/IV2VdmxusS+vsEwiRWYYekoRRqc//9oADAMBAAIAAwAAABBkz//EABURAQEAAAAAAAAAAAAAAAAAAAEA/9oACAEDAQE/EBiP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EKy//8QAHBABAQEAAgMBAAAAAAAAAAAAAREAIVFBYZHw/9oACAEBAAE/EJACYPG/ucEWa8HERSXTWDGOHg3u4BhSfZ8xkARS7//Z","aspectRatio":1.5,"src":"/static/185317eb086da73f9eeaf6b90b06a30d/7f945/featured-theme-options.jpg","srcSet":"/static/185317eb086da73f9eeaf6b90b06a30d/e2788/featured-theme-options.jpg 360w,\n/static/185317eb086da73f9eeaf6b90b06a30d/7d509/featured-theme-options.jpg 720w,\n/static/185317eb086da73f9eeaf6b90b06a30d/7f945/featured-theme-options.jpg 1440w,\n/static/185317eb086da73f9eeaf6b90b06a30d/47dad/featured-theme-options.jpg 2160w,\n/static/185317eb086da73f9eeaf6b90b06a30d/af56c/featured-theme-options.jpg 2880w,\n/static/185317eb086da73f9eeaf6b90b06a30d/c57b6/featured-theme-options.jpg 4272w","sizes":"(max-width: 1440px) 100vw, 1440px"},"seo":{"src":"/static/185317eb086da73f9eeaf6b90b06a30d/16310/featured-theme-options.jpg","width":1024,"height":683}}}},"previous":{"__typename":"MdxCatalystPost","id":"37020e75-89e2-5d90-bb43-6b12790c53c8","excerpt":"This Gatsby theme is for freelance writers and journalists who want a fast, easy to maintain, and elegant portfolio. The backend data is provided by  SANITY.io  and the front end is based on  Catalyst themes . This tutorial assumes basic familiarity with web development and Gatsby. If you are new toâ€¦","slug":"/blog/getting-started-with-gatsby-theme-catalyst-writer/","title":"Getting Started With Gatsby-Theme-Catalyst-Writer","date":"January 28, 2020"},"next":{"__typename":"MdxCatalystPost","id":"3b9bc779-323a-51e3-8303-21320023306d","excerpt":"Gatsby, SANITY.io and Theme-UI are quickly becoming my go-to stack of development tools.  Gatsby  on the frontend.  SANITY  on the backend.  Theme-UI  as the design system interface. Combining these three tools has been fairly smooth, but it took me a while to realize I could link Theme-UI designâ€¦","slug":"/blog/using-theme-ui-with-sanity/","title":"Using Theme-UI with SANITY.io","date":"February 08, 2020"}},"pageContext":{"id":"98cb68b6-66a3-51b0-b691-a7091d97e500","previousId":"37020e75-89e2-5d90-bb43-6b12790c53c8","nextId":"3b9bc779-323a-51e3-8303-21320023306d"}}}